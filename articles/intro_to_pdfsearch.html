<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started with pdfsearch • pdfsearch</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with pdfsearch">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-43425299-5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-43425299-5');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pdfsearch</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro_to_pdfsearch.html">Getting Started with pdfsearch</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lebebr01/pdfsearch/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started with pdfsearch</h1>
                        <h4 data-toc-skip class="author">Brandon
LeBeau</h4>
            
            <h4 data-toc-skip class="date">2025-04-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/lebebr01/pdfsearch/blob/main/vignettes/intro_to_pdfsearch.Rmd" class="external-link"><code>vignettes/intro_to_pdfsearch.Rmd</code></a></small>
      <div class="hidden name"><code>intro_to_pdfsearch.Rmd</code></div>

    </div>

    
    
<p>This package defines a few useful functions for keyword searching
using the <a href="https://github.com/ropensci/pdftools" class="external-link">pdftools</a>
package developed by <a href="https://ropensci.org/" class="external-link">rOpenSci</a>.</p>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>There are currently two functions in this package of use to users.
The first <code>keyword_search</code> takes a single pdf and searches
for keywords from the pdf. The second <code>keyword_directory</code>
does the same search over a directory of pdfs.</p>
</div>
<div class="section level2">
<h2 id="keyword_search-example">
<code>keyword_search</code> Example<a class="anchor" aria-label="anchor" href="#keyword_search-example"></a>
</h2>
<p>The package comes with two pdf files from <a href="https://arxiv.org/" class="external-link">arXiv</a> to use as test cases. Below is an
example of using the <code>keyword_search</code> function.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lebebr01/pdfsearch" class="external-link">pdfsearch</a></span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'pdf'</span>, <span class="st">'1610.00147.pdf'</span>, package <span class="op">=</span> <span class="st">'pdfsearch'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/keyword_search.html">keyword_search</a></span><span class="op">(</span><span class="va">file</span>, </span>
<span>            keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'measurement'</span>, <span class="st">'error'</span><span class="op">)</span>,</span>
<span>            path <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;   keyword     page_num line_num line_text token_text</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> measurement        1        2 <span style="color: #949494;">&lt;chr [1]&gt;</span> <span style="color: #949494;">&lt;list [1]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> measurement        1        4 <span style="color: #949494;">&lt;chr [1]&gt;</span> <span style="color: #949494;">&lt;list [1]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> measurement        1       10 <span style="color: #949494;">&lt;chr [1]&gt;</span> <span style="color: #949494;">&lt;list [1]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> measurement        1       12 <span style="color: #949494;">&lt;chr [1]&gt;</span> <span style="color: #949494;">&lt;list [1]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> measurement        2       16 <span style="color: #949494;">&lt;chr [1]&gt;</span> <span style="color: #949494;">&lt;list [1]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> measurement        2       18 <span style="color: #949494;">&lt;chr [1]&gt;</span> <span style="color: #949494;">&lt;list [1]&gt;</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">line_text</span>, n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "Reiter, Maria DeYoreo∗ arXiv:1610.00147v1 [stat.ME] 1 Oct 2016 Abstract Often in surveys, key items are subject to measurement errors. "</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "In some settings, however, analysts have access to a data source on different individuals with high quality measurements of the error-prone survey items. "</span></span></code></pre></div>
<p>The location of the keyword match, including page number and line
number, and the actual line of text are returned by default.</p>
<div class="section level3">
<h3 id="surrounding-lines-of-text">Surrounding lines of text<a class="anchor" aria-label="anchor" href="#surrounding-lines-of-text"></a>
</h3>
<p>It may be useful to extract not just the line of text that the
keyword is found in, but also surrounding text to have additional
context when looking at the keyword results. This can be added by using
the argument <code>surround_lines</code> as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'pdf'</span>, <span class="st">'1610.00147.pdf'</span>, package <span class="op">=</span> <span class="st">'pdfsearch'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/keyword_search.html">keyword_search</a></span><span class="op">(</span><span class="va">file</span>, </span>
<span>            keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'measurement'</span>, <span class="st">'error'</span><span class="op">)</span>,</span>
<span>            path <span class="op">=</span> <span class="cn">TRUE</span>, surround_lines <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;   keyword     page_num line_num line_text token_text</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> measurement        1        2 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> measurement        1        4 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> measurement        1       10 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> measurement        1       12 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> measurement        2       16 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> measurement        2       18 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">line_text</span>, n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "Data Fusion for Correcting Measurement Errors Tracy Schifeling, Jerome P. "                                                                                                    </span></span>
<span><span class="co">#&gt; [2] "Reiter, Maria DeYoreo∗ arXiv:1610.00147v1 [stat.ME] 1 Oct 2016 Abstract Often in surveys, key items are subject to measurement errors. "                                       </span></span>
<span><span class="co">#&gt; [3] "Given just the data, it can be difficult to determine the distribution of this error process, and hence to obtain accurate inferences that involve the error-prone variables. "</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "Given just the data, it can be difficult to determine the distribution of this error process, and hence to obtain accurate inferences that involve the error-prone variables. "</span></span>
<span><span class="co">#&gt; [2] "In some settings, however, analysts have access to a data source on different individuals with high quality measurements of the error-prone survey items. "                    </span></span>
<span><span class="co">#&gt; [3] "We present a data fusion framework for leveraging this information to improve inferences in the error-prone survey. "</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="combine-hyphenated-words">Combine hyphenated words<a class="anchor" aria-label="anchor" href="#combine-hyphenated-words"></a>
</h3>
<p>Typeset PDF files commonly contain words that wrap from one line to
the next and are hyphenated. An example of this is shown in the
following image.</p>
<div class="float">
<img src="hyphenated.png" alt="hyphenated example"><div class="figcaption">hyphenated example</div>
</div>
<p>Any hyphenated words are treated as two words and the keyword search
may not perform as desired if a matching word would be returned if it is
not hyphenated. Fortunately, there is a <code>remove_hyphen</code>
argument within the <code>keyword_search</code> function that removes
the hyphenated words at the end of a line and combines them with the
word on the next line in the document. Below is an example of this
working, showing the results before and after using the
<code>remove_hyphen</code> argument. By default this argument is set to
TRUE.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'pdf'</span>, <span class="st">'1610.00147.pdf'</span>, package <span class="op">=</span> <span class="st">'pdfsearch'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result_hyphen</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/keyword_search.html">keyword_search</a></span><span class="op">(</span><span class="va">file</span>, </span>
<span>            keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'measurement'</span><span class="op">)</span>,</span>
<span>            path <span class="op">=</span> <span class="cn">TRUE</span>, remove_hyphen <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result_remove_hyphen</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/keyword_search.html">keyword_search</a></span><span class="op">(</span><span class="va">file</span>, </span>
<span>            keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'measurement'</span><span class="op">)</span>,</span>
<span>            path <span class="op">=</span> <span class="cn">TRUE</span>, remove_hyphen <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">result_hyphen</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 36</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">result_remove_hyphen</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 40</span></span></code></pre></div>
<p>You’ll notice that the removal of the hyphen added a few additional
keyword matches to the results. These were cases where the word
“measurement” wrapped across two lines and was hyphenated (see the image
above that has an example of this).</p>
<p>One specific note about removing hyphens in multiple column PDF
files. The ability of the function to perform this action is still
experimental and many times does not work the best as of yet. Use the
<code>remove_hyphen</code> argument with caution with multiple column
PDF files.</p>
</div>
<div class="section level3">
<h3 id="split-document-into-words">Split document into words<a class="anchor" aria-label="anchor" href="#split-document-into-words"></a>
</h3>
<p>Using the <a href="https://github.com/ropensci/tokenizers" class="external-link">tokenizers</a> R package,
it is also possible to split the document into individual words. This
may be most useful when the interest is in performing a text analysis
rather than a keyword search. Below is an example showing the first page
of the text converted to words. By default, hyphenated words at the end
of the lines are removed (see previous section for description of
this).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">token_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convert_tokens.html">convert_tokens</a></span><span class="op">(</span><span class="va">file</span>, path <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">token_result</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;   [1] "data"           "fusion"         "for"            "correcting"    </span></span>
<span><span class="co">#&gt;   [5] "measurement"    "errors"         "tracy"          "schifeling"    </span></span>
<span><span class="co">#&gt;   [9] "jerome"         "p"              "reiter"         "maria"         </span></span>
<span><span class="co">#&gt;  [13] "deyoreo"        "arxiv"          "1610.00147v1"   "stat"          </span></span>
<span><span class="co">#&gt;  [17] "me"             "1"              "oct"            "2016"          </span></span>
<span><span class="co">#&gt;  [21] "abstract"       "often"          "in"             "surveys"       </span></span>
<span><span class="co">#&gt;  [25] "key"            "items"          "are"            "subject"       </span></span>
<span><span class="co">#&gt;  [29] "to"             "measurement"    "errors"         "given"         </span></span>
<span><span class="co">#&gt;  [33] "just"           "the"            "data"           "it"            </span></span>
<span><span class="co">#&gt;  [37] "can"            "be"             "difficult"      "to"            </span></span>
<span><span class="co">#&gt;  [41] "determine"      "the"            "distribution"   "of"            </span></span>
<span><span class="co">#&gt;  [45] "this"           "error"          "process"        "and"           </span></span>
<span><span class="co">#&gt;  [49] "hence"          "to"             "obtain"         "accurate"      </span></span>
<span><span class="co">#&gt;  [53] "inferences"     "that"           "involve"        "the"           </span></span>
<span><span class="co">#&gt;  [57] "error"          "prone"          "variables"      "in"            </span></span>
<span><span class="co">#&gt;  [61] "some"           "settings"       "however"        "analysts"      </span></span>
<span><span class="co">#&gt;  [65] "have"           "access"         "to"             "a"             </span></span>
<span><span class="co">#&gt;  [69] "data"           "source"         "on"             "different"     </span></span>
<span><span class="co">#&gt;  [73] "in"             "dividuals"      "with"           "high"          </span></span>
<span><span class="co">#&gt;  [77] "quality"        "measurements"   "of"             "the"           </span></span>
<span><span class="co">#&gt;  [81] "error"          "prone"          "survey"         "items"         </span></span>
<span><span class="co">#&gt;  [85] "we"             "present"        "a"              "data"          </span></span>
<span><span class="co">#&gt;  [89] "fusion"         "framework"      "for"            "leveraging"    </span></span>
<span><span class="co">#&gt;  [93] "this"           "information"    "to"             "improve"       </span></span>
<span><span class="co">#&gt;  [97] "infer"          "ences"          "in"             "the"           </span></span>
<span><span class="co">#&gt; [101] "error"          "prone"          "survey"         "the"           </span></span>
<span><span class="co">#&gt; [105] "basic"          "idea"           "is"             "to"            </span></span>
<span><span class="co">#&gt; [109] "posit"          "models"         "about"          "the"           </span></span>
<span><span class="co">#&gt; [113] "rates"          "at"             "which"          "individuals"   </span></span>
<span><span class="co">#&gt; [117] "make"           "errors"         "coupled"        "with"          </span></span>
<span><span class="co">#&gt; [121] "models"         "for"            "the"            "values"        </span></span>
<span><span class="co">#&gt; [125] "reported"       "when"           "errors"         "are"           </span></span>
<span><span class="co">#&gt; [129] "made"           "this"           "can"            "avoid"         </span></span>
<span><span class="co">#&gt; [133] "the"            "unrealistic"    "assumption"     "of"            </span></span>
<span><span class="co">#&gt; [137] "conditional"    "independence"   "typically"      "used"          </span></span>
<span><span class="co">#&gt; [141] "in"             "data"           "fusion"         "we"            </span></span>
<span><span class="co">#&gt; [145] "apply"          "the"            "approach"       "on"            </span></span>
<span><span class="co">#&gt; [149] "the"            "re"             "ported"         "values"        </span></span>
<span><span class="co">#&gt; [153] "of"             "educational"    "attainments"    "in"            </span></span>
<span><span class="co">#&gt; [157] "the"            "american"       "community"      "survey"        </span></span>
<span><span class="co">#&gt; [161] "using"          "the"            "national"       "survey"        </span></span>
<span><span class="co">#&gt; [165] "of"             "college"        "graduates"      "as"            </span></span>
<span><span class="co">#&gt; [169] "the"            "high"           "quality"        "data"          </span></span>
<span><span class="co">#&gt; [173] "source"         "in"             "doing"          "so"            </span></span>
<span><span class="co">#&gt; [177] "we"             "account"        "for"            "the"           </span></span>
<span><span class="co">#&gt; [181] "informative"    "sampling"       "design"         "used"          </span></span>
<span><span class="co">#&gt; [185] "to"             "select"         "the"            "national"      </span></span>
<span><span class="co">#&gt; [189] "survey"         "of"             "college"        "graduates"     </span></span>
<span><span class="co">#&gt; [193] "we"             "also"           "present"        "a"             </span></span>
<span><span class="co">#&gt; [197] "process"        "for"            "assessing"      "the"           </span></span>
<span><span class="co">#&gt; [201] "sensitivity"    "of"             "various"        "analyses"      </span></span>
<span><span class="co">#&gt; [205] "to"             "different"      "choices"        "for"           </span></span>
<span><span class="co">#&gt; [209] "the"            "measurement"    "error"          "models"        </span></span>
<span><span class="co">#&gt; [213] "supplemental"   "material"       "is"             "available"     </span></span>
<span><span class="co">#&gt; [217] "online"         "key"            "words"          "fusion"        </span></span>
<span><span class="co">#&gt; [221] "imputation"     "measurement"    "error"          "missing"       </span></span>
<span><span class="co">#&gt; [225] "survey"         "this"           "research"       "was"           </span></span>
<span><span class="co">#&gt; [229] "supported"      "by"             "the"            "national"      </span></span>
<span><span class="co">#&gt; [233] "science"        "foundation"     "under"          "award"         </span></span>
<span><span class="co">#&gt; [237] "ses"            "11"             "31897"          "the"           </span></span>
<span><span class="co">#&gt; [241] "authors"        "wish"           "to"             "thank"         </span></span>
<span><span class="co">#&gt; [245] "seth"           "sanders"        "for"            "his"           </span></span>
<span><span class="co">#&gt; [249] "input"          "on"             "informative"    "prior"         </span></span>
<span><span class="co">#&gt; [253] "specifications" "and"            "mauricio"       "sadinle"       </span></span>
<span><span class="co">#&gt; [257] "for"            "discussion"     "that"           "improved"      </span></span>
<span><span class="co">#&gt; [261] "the"            "strategy"       "for"            "accounting"    </span></span>
<span><span class="co">#&gt; [265] "for"            "the"            "informative"    "sample"        </span></span>
<span><span class="co">#&gt; [269] "design"         "1"</span></span></code></pre></div>
<p>Another implementation of the <code>convert_tokens</code> function,
is to convert the result text to tokens. This could be interesting when
used in tandem with the surround_lines argument for input into a text
analysis. These tokens are included by default when calling the
<code>keyword_search</code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'pdf'</span>, <span class="st">'1501.00450.pdf'</span>, package <span class="op">=</span> <span class="st">'pdfsearch'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/keyword_search.html">keyword_search</a></span><span class="op">(</span><span class="va">file</span>, </span>
<span>            keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'repeated measures'</span>, <span class="st">'mixed effects'</span><span class="op">)</span>,</span>
<span>            path <span class="op">=</span> <span class="cn">TRUE</span>, surround_lines <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">result</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 5</span></span></span>
<span><span class="co">#&gt;   keyword           page_num line_num line_text token_text</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> repeated measures        1        9 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> repeated measures        2       31 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> repeated measures        2       58 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> repeated measures        2       60 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> repeated measures        3       70 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> repeated measures        6      169 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> repeated measures        6      180 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> repeated measures        6      185 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span> repeated measures        9      315 <span style="color: #949494;">&lt;chr [3]&gt;</span> <span style="color: #949494;">&lt;list [3]&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="keyword_directory-example">
<code>keyword_directory</code> Example<a class="anchor" aria-label="anchor" href="#keyword_directory-example"></a>
</h2>
<p>The <code>keyword_directory</code> function is useful when you have a
directory of many pdf files that you want to search a series of keywords
in a single function call. This can be particularly useful in the
context of a research synthesis or to screen studies for characteristics
to include in a meta-analysis.</p>
<p>There are two files that come with the package from ArXiv in a single
directory that will be used as an example use case for the package.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">directory</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'pdf'</span>, package <span class="op">=</span> <span class="st">'pdfsearch'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/keyword_directory.html">keyword_directory</a></span><span class="op">(</span><span class="va">directory</span>,</span>
<span>                           keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'repeated measures'</span>, <span class="st">'mixed effects'</span>,</span>
<span>                                       <span class="st">'error'</span><span class="op">)</span>,</span>
<span>                           surround_lines <span class="op">=</span> <span class="fl">1</span>, full_names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID       pdf_name           keyword page_num line_num</span></span>
<span><span class="co">#&gt; 1  1 1501.00450.pdf repeated measures        1        9</span></span>
<span><span class="co">#&gt; 2  1 1501.00450.pdf repeated measures        2       31</span></span>
<span><span class="co">#&gt; 3  1 1501.00450.pdf repeated measures        2       58</span></span>
<span><span class="co">#&gt; 4  1 1501.00450.pdf repeated measures        2       60</span></span>
<span><span class="co">#&gt; 5  1 1501.00450.pdf repeated measures        3       70</span></span>
<span><span class="co">#&gt; 6  1 1501.00450.pdf repeated measures        6      169</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          line_text</span></span>
<span><span class="co">#&gt; 1                                                                                                                                                                                                                                                                                                                                                                                                                                                  We             Running under powered experiments have many perils. , Not introduce more sophisticated experimental designs, specifi-           only would we miss potentially beneficial effects, we may also cally the repeated measures design, including the crossover           get false confidence about lack of negative effects. , Statistical design and related variants, to increase KPI sensitivity with         power increases with larger effect size, and smaller variances. the same traffic size and duration of experiment. </span></span>
<span><span class="co">#&gt; 2                                                                                                                                                                                                                                                       a limitation to any online experimentation platform, where         within-subject variation. , We also discuss practical considfast iterations and testing many ideas can reap the most           erations to repeated measures design, with variants to the rewards.                                                           crossover design to study the carry over effect, including the “re-randomized” design (row 5 in table 1). , 1.1    Motivation To improve sensitivity of measurement, apart from accurate         1.2     Main Contributions implementation and increase sample size and duration, we           In this paper, we propose a framework called FORME (Flexcan employ statistical methods to reduce variance. </span></span>
<span><span class="co">#&gt; 3                                                                                                                                                                                                                                                                                                                                                                                                                                            In the Table 1: Repeated Measures Designs                        following section we assume the minimum experimentation “period” to be one full week, and may extend to up to two In this paper we extend the idea further by employing the          weeks. , To facilitate our illustration, in all the derivation repeated measures design in different stages of treatment          in this section we assume all users appear in all periods, assignment. , The traditional A/B test can be analyzed us-           i.e. no missing measurement. </span></span>
<span><span class="co">#&gt; 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 The traditional A/B test can be analyzed us-           i.e. no missing measurement. , We also restrict ourselves ing the repeated measures analysis, reporting a “per week”         to metrics that are defined as simple average and assume treatment effect, as show in row 3 “parallel” design in ta-        treatment and control have the same sample size. , We furble 1. </span></span>
<span><span class="co">#&gt; 5                                                                                                                                                                                                                                                                                    This way              average treatment effect (ATE) δ = µT − µC which is a each user serves as his/her own control in the measurement.        fixed effects in the model in this section. , This way, various In fact, the crossover design is a type of repeated measures       designs considered can be examined in the same framework design commonly used in biomedical research to control for         and easily compared., We will proceed to show, with theoretical derivations, that        2.1    Two Sample T-test given the same total traffic                                       Let X denote the observed average metric value in control group and Y denote that in the treatment group. </span></span>
<span><span class="co">#&gt; 6 5.  , FLEXIBLE AND SCALABLE REPEATED One way to see measurements are not missing at random is                MEASURES ANALYSIS VIA FORME to realize infrequent users are more likely to have missing         5.1 Review of Existing Methods values and the absence in a specific time window can still          It is common to analyze data from repeated measures design provide information on the user behavior and in reality there       with the repeated measures ANOVA model and the F-test, might be other factors causing user to be missing that are          under certain assumptions, such as normality, sphericity (honot even observed. , Instead of throwing away data points             mogeneity of variances in differences between each pair of where user appeared in only one period and is exposed to            within-subject values), equal time points between subjects, only one of the two treatments, in practice, we included an         and no missing data. </span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          token_text</span></span>
<span><span class="co">#&gt; 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       we, running, under, powered, experiments, have, many, perils, not, introduce, more, sophisticated, experimental, designs, specifi, only, would, we, miss, potentially, beneficial, effects, we, may, also, cally, the, repeated, measures, design, including, the, crossover, get, false, confidence, about, lack, of, negative, effects, statistical, design, and, related, variants, to, increase, kpi, sensitivity, with, power, increases, with, larger, effect, size, and, smaller, variances, the, same, traffic, size, and, duration, of, experiment</span></span>
<span><span class="co">#&gt; 2                                                                                                                                                                                                                                                                                                                                        a, limitation, to, any, online, experimentation, platform, where, within, subject, variation, we, also, discuss, practical, considfast, iterations, and, testing, many, ideas, can, reap, the, most, erations, to, repeated, measures, design, with, variants, to, the, rewards, crossover, design, to, study, the, carry, over, effect, including, the, re, randomized, design, row, 5, in, table, 1, 1.1, motivation, to, improve, sensitivity, of, measurement, apart, from, accurate, 1.2, main, contributions, implementation, and, increase, sample, size, and, duration, we, in, this, paper, we, propose, a, framework, called, forme, flexcan, employ, statistical, methods, to, reduce, variance</span></span>
<span><span class="co">#&gt; 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                in, the, table, 1, repeated, measures, designs, following, section, we, assume, the, minimum, experimentation, period, to, be, one, full, week, and, may, extend, to, up, to, two, in, this, paper, we, extend, the, idea, further, by, employing, the, weeks, to, facilitate, our, illustration, in, all, the, derivation, repeated, measures, design, in, different, stages, of, treatment, in, this, section, we, assume, all, users, appear, in, all, periods, assignment, the, traditional, a, b, test, can, be, analyzed, us, i, e, no, missing, measurement</span></span>
<span><span class="co">#&gt; 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  the, traditional, a, b, test, can, be, analyzed, us, i, e, no, missing, measurement, we, also, restrict, ourselves, ing, the, repeated, measures, analysis, reporting, a, per, week, to, metrics, that, are, defined, as, simple, average, and, assume, treatment, effect, as, show, in, row, 3, parallel, design, in, ta, treatment, and, control, have, the, same, sample, size, we, furble, 1</span></span>
<span><span class="co">#&gt; 5                                                                                                                                                                                                                                                                                                                                  this, way, average, treatment, effect, ate, δ, µt, µc, which, is, a, each, user, serves, as, his, her, own, control, in, the, measurement, fixed, effects, in, the, model, in, this, section, this, way, various, in, fact, the, crossover, design, is, a, type, of, repeated, measures, designs, considered, can, be, examined, in, the, same, framework, design, commonly, used, in, biomedical, research, to, control, for, and, easily, compared, we, will, proceed, to, show, with, theoretical, derivations, that, 2.1, two, sample, t, test, given, the, same, total, traffic, let, x, denote, the, observed, average, metric, value, in, control, group, and, y, denote, that, in, the, treatment, group</span></span>
<span><span class="co">#&gt; 6 5, flexible, and, scalable, repeated, one, way, to, see, measurements, are, not, missing, at, random, is, measures, analysis, via, forme, to, realize, infrequent, users, are, more, likely, to, have, missing, 5.1, review, of, existing, methods, values, and, the, absence, in, a, specific, time, window, can, still, it, is, common, to, analyze, data, from, repeated, measures, design, provide, information, on, the, user, behavior, and, in, reality, there, with, the, repeated, measures, anova, model, and, the, f, test, might, be, other, factors, causing, user, to, be, missing, that, are, under, certain, assumptions, such, as, normality, sphericity, honot, even, observed, instead, of, throwing, away, data, points, mogeneity, of, variances, in, differences, between, each, pair, of, where, user, appeared, in, only, one, period, and, is, exposed, to, within, subject, values, equal, time, points, between, subjects, only, one, of, the, two, treatments, in, practice, we, included, an, and, no, missing, data</span></span></code></pre></div>
<p>The <code>full_names</code> argument is needed here to specify that
the full file path needs to be used to access the pdf files. If the
search is done directly from the repository (i.e. when using an R
project in RStudio), then <code>full_names</code> could be set to
FALSE.</p>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<p>Currently there are a handful of limitations, mostly around how pdfs
are read into R using the pdftools R package. When pdfs are created in a
multiple column layout, a line in the pdf consists of the entire line
across both columns. This can lead to fragmented text that may not give
the full contents, even with using the <code>surround_lines</code>
argument.</p>
<p>Another limitation is when performing keyword searching with multiple
words or phrases. If the match is on a single line, the match would be
returned. However, if the words or phrase spans multiple lines, the
current implementation will not return a result that spans multiple
lines in the PDF file.</p>
</div>
<div class="section level2">
<h2 id="shiny-app">Shiny App<a class="anchor" aria-label="anchor" href="#shiny-app"></a>
</h2>
<p>The package also has a simple Shiny app that can be called using the
following command</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/run_shiny.html">run_shiny</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://brandonlebeau.org" class="external-link">Brandon LeBeau</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
